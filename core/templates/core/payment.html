{% extends 'core/base.html' %}

{% block title %}Payment{% endblock %}

{% block content %}
<div class="flex justify-center">
  <div class="w-full md:w-2/3 lg:w-1/2">
    <div class="bg-blue-600 rounded-xl p-6">
      <h3 class="text-black mb-4 font-bold">PAYMENT INFORMATION:</h3>
      <form id="payment-form" action="{% url 'core:empty_cart' %}" method="POST">
        {% csrf_token %}
        <div>
          <label for="card-number" class="block text-white">Card Number</label>
          <input type="text" id="card-number" name="card-number" pattern="[0-9]{13,19}" required class="w-full py-2 px-4 border border-gray-300 rounded-xl focus:outline-none focus:border-blue-700" placeholder="Enter a valid card number (13-19  number)">
        </div>
        <div>
          <label for="card-holder-name" class="block text-white">Card Holder Name</label>
          <input type="text" id="card-holder-name" name="card-holder-name" required class="w-full py-2 px-4 border border-gray-300 rounded-xl focus:outline-none focus:border-blue-700">
        </div>
        <div>
          <label for="card-holder-surname" class="block text-white">Card Holder Surname</label>
          <input type="text" id="card-holder-surname" name="card-holder-surname" required class="w-full py-2 px-4 border border-gray-300 rounded-xl focus:outline-none focus:border-blue-700">
        </div>
        <div class="grid grid-cols-2 gap-4 mt-4">
          <div>
            <label for="expiration-date" class="block text-white">Expiration Date (MM/YY)</label>
            <input type="text" id="expiration-date" name="expiration-date" pattern="(0[1-9]|1[0-2])\/[0-9]{2}" required class="w-full py-2 px-4 border border-gray-300 rounded-xl focus:outline-none focus:border-blue-700" placeholder="MM/YY">
          </div>
          <div>
            <label for="cvv" class="block text-white">CVV (3 or 4 digits)</label>
            <input type="text" id="cvv" name="cvv" pattern="[0-9]{3,4}" required class="w-full py-2 px-4 border border-gray-300 rounded-xl focus:outline-none focus:border-blue-700" placeholder="CVV">
          </div>
        </div>
        <div class="mt-4">
          <div class="flex justify-end">
            <button id="submit-payment-button" type="submit" class="bg-blue-700 hover:bg-blue-900 text-white py-2 px-4 rounded-xl">Submit Payment</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


<script>

  // Quando il bottone "Submit Payment" viene premuto
  document.getElementById("submit-payment-button").addEventListener("click", function() {
    // Memorizza la variabile di stato nell'API Web Storage
    sessionStorage.setItem("paymentSubmitted", "true");
  });

</script>

{% endblock %}



